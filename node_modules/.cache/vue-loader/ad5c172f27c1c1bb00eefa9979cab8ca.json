{"remainingRequest":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gdezheleha/Documents/refresh/refresh/node_modules/vuejs-clipper/src/components/clipper-fixed.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/vuejs-clipper/src/components/clipper-fixed.vue","mtime":499162500000},{"path":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gdezheleha/Documents/refresh/refresh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBmaXhlZE1ldGhvZHMsDQogIHJ4RXZlbnRMaXN0ZW5lcnMsDQogIHJ4V2hlZWxMaXN0ZW5lcnMsDQogIHBsdWdpbk1ldGhvZHMNCn0gZnJvbSAnLi9leHRlbmRzL2NsaXBwbycNCmltcG9ydCB7DQogIG1hcCwNCiAgZmlsdGVyLA0KICBzdGFydFdpdGgsDQogIGNvbmNhdE1hcCwNCiAgbWVyZ2UsDQogIHRha2VVbnRpbA0KfSBmcm9tICdyeGpzL29wZXJhdG9ycycNCmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBleHRlbmRzOiB7DQogICAgbWV0aG9kczogZml4ZWRNZXRob2RzLA0KICAgIG1peGluczogW3J4RXZlbnRMaXN0ZW5lcnMsIHJ4V2hlZWxMaXN0ZW5lcnMsIHBsdWdpbk1ldGhvZHNdDQogIH0sDQogIHN1YnNjcmlwdGlvbnMgKCkgew0KICAgIHRoaXMuc2V0V0gkID0gbmV3IFN1YmplY3QoKQ0KICAgIHRoaXMuc2V0VEwkID0gbmV3IFN1YmplY3QoKQ0KICAgIHRoaXMuY2hhbmdlJCA9IG5ldyBTdWJqZWN0KCkNCiAgICAvKiogYmFzaWMgKi8NCiAgICB0aGlzLm1vdXNlZG93bkRyYWckID0gdGhpcy5tb3VzZWRvd24kLnBpcGUoDQogICAgICBmaWx0ZXIodGhpcy5pc0RyYWdFbGVtZW50KSwNCiAgICAgIG1hcCh0aGlzLnByZXZlbnQpLA0KICAgICAgbWFwKHRoaXMuZHJhZ0Rvd25Qb3MpLA0KICAgICAgY29uY2F0TWFwKA0KICAgICAgICAoKSA9PiB0aGlzLm1vdXNlbW92ZSQucGlwZShtYXAodGhpcy5wcmV2ZW50KSwgdGFrZVVudGlsKHRoaXMubW91c2V1cCQpKSwNCiAgICAgICAgKGRvd24sIG1vdmUpID0+IHsNCiAgICAgICAgICByZXR1cm4geyBkb3duLCBtb3ZlIH0NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICkNCiAgICB0aGlzLnRvdWNoZG93bkRyYWckID0gdGhpcy50b3VjaHN0YXJ0JC5waXBlKA0KICAgICAgZmlsdGVyKHRoaXMuaXNEcmFnRWxlbWVudCksDQogICAgICBtYXAodGhpcy5wcmV2ZW50KSwNCiAgICAgIGZpbHRlcihlID0+IGUudG91Y2hlcy5sZW5ndGggPT09IDEpLA0KICAgICAgbWFwKGUgPT4gZS50b3VjaGVzWzBdKSwNCiAgICAgIG1hcCh0aGlzLmRyYWdEb3duUG9zKSwNCiAgICAgIGNvbmNhdE1hcCgNCiAgICAgICAgKCkgPT4NCiAgICAgICAgICB0aGlzLnRvdWNobW92ZSQucGlwZSgNCiAgICAgICAgICAgIHRha2VVbnRpbCh0aGlzLnRvdWNoZW5kJCksDQogICAgICAgICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAxKQ0KICAgICAgICAgICksDQogICAgICAgIChkb3duLCBtb3ZlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHsgZG93biwgbW92ZTogbW92ZS50b3VjaGVzWzBdIH0NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICkNCiAgICB0aGlzLndoZWVsRXZlbnQkID0gdGhpcy53aGVlbCQucGlwZSgNCiAgICAgIGZpbHRlcih0aGlzLmlzRHJhZ0VsZW1lbnQpLA0KICAgICAgbWFwKHRoaXMucHJldmVudCksDQogICAgICBtYXAoZSA9PiBlLmRlbHRhWSksDQogICAgICBtYXAoZGVsdGFZID0+IChkZWx0YVkgPj0gMCA/IC0xIDogMSkpDQogICAgKQ0KICAgIHRoaXMudG91Y2hUd29GaW5nZXIkID0gdGhpcy50b3VjaHN0YXJ0JC5waXBlKA0KICAgICAgZmlsdGVyKHRoaXMuaXNEcmFnRWxlbWVudCksDQogICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAyKSwNCiAgICAgIG1hcCh0aGlzLnByZXZlbnQpLA0KICAgICAgbWFwKHRoaXMudG93UG9pbnRzVG91Y2hlcyksDQogICAgICBtYXAodGhpcy5zZXRPcmlnaW4pLA0KICAgICAgY29uY2F0TWFwKA0KICAgICAgICAoKSA9Pg0KICAgICAgICAgIHRoaXMudG91Y2htb3ZlJC5waXBlKA0KICAgICAgICAgICAgdGFrZVVudGlsKHRoaXMudG91Y2hlbmQkKSwNCiAgICAgICAgICAgIGZpbHRlcihlID0+IGUudG91Y2hlcy5sZW5ndGggPT09IDIpLA0KICAgICAgICAgICAgbWFwKHRoaXMudG93UG9pbnRzVG91Y2hlcykNCiAgICAgICAgICApLA0KICAgICAgICAoeyBkb3duLCBvcmlnaW4gfSwgbW92ZSkgPT4gew0KICAgICAgICAgIHJldHVybiB7IGRvd24sIG1vdmUsIG9yaWdpbiB9DQogICAgICAgIH0NCiAgICAgICksDQogICAgICBtYXAodGhpcy50d29Qb2ludHNEZWx0YSkNCiAgICApDQogICAgLyoqIFpvb20gU3ViamVjdCAqLw0KICAgIHRoaXMud2hlZWxab29tJCA9IG5ldyBTdWJqZWN0KCkucGlwZSgNCiAgICAgIHN0YXJ0V2l0aCgxKSwNCiAgICAgIG1lcmdlKHRoaXMud2hlZWxFdmVudCQpLA0KICAgICAgbWFwKHRoaXMuY2FsY1doZWVsU2NhbGluZykNCiAgICApDQogICAgdGhpcy50b3VjaFpvb20kID0gbmV3IFN1YmplY3QoKS5waXBlKA0KICAgICAgc3RhcnRXaXRoKDEpLA0KICAgICAgbWVyZ2UodGhpcy50b3VjaFR3b0ZpbmdlciQpLA0KICAgICAgbWFwKHRoaXMuY2FsY1RvdWNoU2NhbGluZykNCiAgICApDQogICAgdGhpcy56b29tU3ViamVjdCQgPSBuZXcgU3ViamVjdCgpLnBpcGUoDQogICAgICBtZXJnZSh0aGlzLnNldFdIJCksDQogICAgICBtZXJnZSh0aGlzLndoZWVsWm9vbSQpLA0KICAgICAgbWVyZ2UodGhpcy50b3VjaFpvb20kKQ0KICAgICkNCiAgICAvKiogRHJhZyBTdWJqZWN0ICovDQogICAgdGhpcy5kcmFnU3ViamVjdCQgPSBuZXcgU3ViamVjdCgpLnBpcGUoDQogICAgICBzdGFydFdpdGgoeyBsZWZ0OiAwLCB0b3A6IDAgfSksDQogICAgICBtZXJnZSh0aGlzLnNldFRMJCksDQogICAgICBtZXJnZSgNCiAgICAgICAgdGhpcy5tb3VzZWRvd25EcmFnJC5waXBlKA0KICAgICAgICAgIG1lcmdlKHRoaXMudG91Y2hkb3duRHJhZyQpLA0KICAgICAgICAgIG1hcCh0aGlzLmRlbHRhKSwNCiAgICAgICAgICBtYXAodGhpcy50b1BlcmNlbnRhZ2UpDQogICAgICAgICAgLy8gbWFwKHRoaXMudmFsaWRhdGVUTCkNCiAgICAgICAgKQ0KICAgICAgKQ0KICAgICkNCg0KICAgIHRoaXMub25DaGFuZ2UkID0gbmV3IFN1YmplY3QoKS5waXBlKA0KICAgICAgbWVyZ2UodGhpcy56b29tU3ViamVjdCQpLA0KICAgICAgbWVyZ2UodGhpcy5kcmFnU3ViamVjdCQpLA0KICAgICAgbWVyZ2UodGhpcy5jaGFuZ2UkKQ0KICAgICkNCg0KICAgIHJldHVybiB7DQogICAgICBiZ1dIJDogdGhpcy56b29tU3ViamVjdCQsDQogICAgICBiZ1RMJDogdGhpcy5kcmFnU3ViamVjdCQNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgc3JjOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgcm90YXRlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICByYXRpbzogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgem9vbVJhdGU6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDAuMDQNCiAgICB9LA0KICAgIG1pblNjYWxlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwLjENCiAgICB9LA0KICAgIGJnQ29sb3I6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICd3aGl0ZScNCiAgICB9LA0KICAgIGJvcmRlcjogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgYm9yZGVyQ29sb3I6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICd3aGl0ZScNCiAgICB9LA0KICAgIGdyaWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBzaGFkb3c6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdyZ2JhKDAsIDAsIDAsIDAuNCknDQogICAgfSwNCiAgICByb3VuZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBwcmV2aWV3OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0NCiAgfSwNCiAgZGF0YTogKCkgPT4gew0KICAgIHJldHVybiB7DQogICAgICBpbWdSYXRpbzogTmFODQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGFyZWFTdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgY29uc3Qgc3R5bGUgPSB7DQogICAgICAgIGNvbG9yOiB0aGlzLnNoYWRvdywNCiAgICAgICAgYm9yZGVyV2lkdGg6IHRoaXMuYm9yZGVyICsgJ3B4JywNCiAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuYm9yZGVyQ29sb3IsDQogICAgICAgIGJveFNoYWRvdzogJzAgMCAwICcgKyB0aGlzLl9zaGFkb3csDQogICAgICAgIGJvcmRlclJhZGl1czogKHRoaXMucm91bmQpID8gJzUwJScgOiAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5yYXRpbyA+PSAxID8gKHN0eWxlLndpZHRoID0gJzUwJScpIDogKHN0eWxlLmhlaWdodCA9ICc1MCUnKQ0KICAgICAgcmV0dXJuIHN0eWxlDQogICAgfSwNCiAgICBzY2FsZVN0eWxlOiBmdW5jdGlvbiAoKSB7DQogICAgICBsZXQgd2lkdGggPSB0aGlzLmJnV0gkDQogICAgICByZXR1cm4gew0KICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke3dpZHRofSlgDQogICAgICB9DQogICAgfSwNCiAgICB0cmFuc2xhdGVTdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgbGV0IGxlZnQgPSB0aGlzLmJnVEwkLmxlZnQNCiAgICAgIGxldCB0b3AgPSB0aGlzLmJnVEwkLnRvcA0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bGVmdH0lLCR7dG9wfSUpYA0KICAgICAgfQ0KICAgIH0sDQogICAgYmdTdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jaGFuZ2UkLm5leHQoMCkNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3RoaXMucm90YXRlfWRlZylgDQogICAgICB9DQogICAgfSwNCiAgICB3cmFwU3R5bGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy53YXRjaFByZURhdGEuYmdDb2xvcg0KICAgICAgfQ0KICAgIH0sDQogICAgc3RlbUFyZWE6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHdpZHRoOiAxMCwNCiAgICAgICAgaGVpZ2h0OiAxMCAvIHRoaXMucmF0aW8NCiAgICAgIH0NCiAgICB9LA0KICAgIHN0ZW1TdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgY29uc3Qgc3R5bGUgPSB7fQ0KICAgICAgdGhpcy5yYXRpbyA+PSAxID8gKHN0eWxlLndpZHRoID0gJzEwMCUnKSA6IChzdHlsZS5oZWlnaHQgPSAnMTAwJScpDQogICAgICByZXR1cm4gc3R5bGUNCiAgICB9LA0KICAgIF9zaGFkb3c6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiAodGhpcy5pbWdSYXRpbyA+PSAxID8gMTAwIDogMTAwIC8gdGhpcy5pbWdSYXRpbykgKyAndncnDQogICAgfSwNCiAgICB3YXRjaFByZURhdGE6IGZ1bmN0aW9uICgpIHsgLy8gdXNlIGNvbXB1dGVkIHdhdGNoIGJnQ29sb3INCiAgICAgIHRoaXMuY2FsbFByZXZpZXcoJ3NldERhdGEnLCB7IGJnQ29sb3I6IHRoaXMuYmdDb2xvciB9KQ0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgYmdDb2xvcjogdGhpcy5iZ0NvbG9yDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHJhdGlvICgpIHsNCiAgICAgIHRoaXMuY2hhbmdlJC5uZXh0KDApDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLmltZ0VsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmltZycpDQogICAgdGhpcy53cmFwRWwgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcud3JhcCcpDQogICAgdGhpcy5hcmVhRWwgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuYXJlYScpDQogICAgdGhpcy5zY2FsZUVsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmltZy1zY2FsZScpDQogICAgdGhpcy50cmFuc2xhdGVFbCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5pbWctdHJhbnNsYXRlJykNCiAgICB0aGlzLnN0ZW1FbCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5zdGVtLWJnJykNCiAgICB0aGlzLmNhbnZhc0VsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmhpZGRlbi1jYW52YXMnKQ0KICAgIHRoaXMuJHN1YnNjcmliZVRvKA0KICAgICAgdGhpcy5vbkNoYW5nZSQsDQogICAgICAoKSA9PiB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdldERyYXdQb3MoKS5wb3MNCiAgICAgICAgICBjb25zdCByb3RhdGUgPSB0aGlzLnJvdGF0ZQ0KICAgICAgICAgIGlmICh0aGlzLmludmFsaWREcmF3UG9zKHJlc3VsdCkpIHJldHVybg0KICAgICAgICAgIHRoaXMuY2FsbFByZXZpZXcoJ2xvY2F0ZUltYWdlJywgcmVzdWx0LCByb3RhdGUpDQogICAgICAgIH0pDQogICAgICB9DQogICAgKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW1nTG9hZGVkOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLnJlc2V0RGF0YSgpDQogICAgICB0aGlzLmltZ1JhdGlvID0gdGhpcy5pbWdFbC5uYXR1cmFsV2lkdGggLyB0aGlzLmltZ0VsLm5hdHVyYWxIZWlnaHQNCiAgICAgIHRoaXMuc3RlbUVsLndpZHRoID0gdGhpcy5pbWdFbC5uYXR1cmFsV2lkdGgNCiAgICAgIHRoaXMuc3RlbUVsLmhlaWdodCA9IHRoaXMuaW1nRWwubmF0dXJhbEhlaWdodA0KICAgICAgdGhpcy5jYWxsUHJldmlldygnc2V0RGF0YScsIHsNCiAgICAgICAgc3JjOiB0aGlzLnNyYywNCiAgICAgICAgYmdDb2xvcjogdGhpcy5iZ0NvbG9yDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVzZXREYXRhOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLnNldFRMJC5uZXh0KHsgbGVmdDogMCwgdG9wOiAwIH0pDQogICAgICB0aGlzLnNldFdIJC5uZXh0KDEpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["clipper-fixed.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"clipper-fixed.vue","sourceRoot":"node_modules/vuejs-clipper/src/components","sourcesContent":["<template>\r\n  <div class=\"clipper-fixed\">\r\n    <div\r\n      class=\"wrap\"\r\n      :style=\"wrapStyle\"\r\n    >\r\n      <canvas\r\n        class=\"stem-outer\"\r\n        :width=\"stemArea.width\"\r\n        :height=\"stemArea.height\"\r\n      />\r\n      <div class=\"img-center\">\r\n        <canvas class=\"stem-bg\" />\r\n        <div\r\n          class=\"img-scale\"\r\n          :style=\"scaleStyle\"\r\n        >\r\n          <div\r\n            class=\"img-translate\"\r\n            :style=\"translateStyle\"\r\n          >\r\n            <img\r\n              :src=\"src\"\r\n              class=\"img\"\r\n              :style=\"bgStyle\"\r\n              @load=\"imgLoaded(); emit('load',$event)\"\r\n              @error=\"emit('error',$event)\"\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"cover\">\r\n        <div\r\n          class=\"area\"\r\n          :style=\"areaStyle\"\r\n        >\r\n          <canvas\r\n            class=\"stem-area\"\r\n            :width=\"stemArea.width\"\r\n            :height=\"stemArea.height\"\r\n            :style=\"stemStyle\"\r\n          />\r\n          <div\r\n            v-if=\"grid\"\r\n            class=\"grid\"\r\n          >\r\n            <div\r\n              v-for=\"index in 4\"\r\n              :key=\"'gridItem'+index\"\r\n              class=\"grid-item\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <canvas class=\"hidden-canvas\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  fixedMethods,\r\n  rxEventListeners,\r\n  rxWheelListeners,\r\n  pluginMethods\r\n} from './extends/clippo'\r\nimport {\r\n  map,\r\n  filter,\r\n  startWith,\r\n  concatMap,\r\n  merge,\r\n  takeUntil\r\n} from 'rxjs/operators'\r\nimport { Subject } from 'rxjs'\r\nexport default {\r\n  extends: {\r\n    methods: fixedMethods,\r\n    mixins: [rxEventListeners, rxWheelListeners, pluginMethods]\r\n  },\r\n  subscriptions () {\r\n    this.setWH$ = new Subject()\r\n    this.setTL$ = new Subject()\r\n    this.change$ = new Subject()\r\n    /** basic */\r\n    this.mousedownDrag$ = this.mousedown$.pipe(\r\n      filter(this.isDragElement),\r\n      map(this.prevent),\r\n      map(this.dragDownPos),\r\n      concatMap(\r\n        () => this.mousemove$.pipe(map(this.prevent), takeUntil(this.mouseup$)),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.touchdownDrag$ = this.touchstart$.pipe(\r\n      filter(this.isDragElement),\r\n      map(this.prevent),\r\n      filter(e => e.touches.length === 1),\r\n      map(e => e.touches[0]),\r\n      map(this.dragDownPos),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            takeUntil(this.touchend$),\r\n            filter(e => e.touches.length === 1)\r\n          ),\r\n        (down, move) => {\r\n          return { down, move: move.touches[0] }\r\n        }\r\n      )\r\n    )\r\n    this.wheelEvent$ = this.wheel$.pipe(\r\n      filter(this.isDragElement),\r\n      map(this.prevent),\r\n      map(e => e.deltaY),\r\n      map(deltaY => (deltaY >= 0 ? -1 : 1))\r\n    )\r\n    this.touchTwoFinger$ = this.touchstart$.pipe(\r\n      filter(this.isDragElement),\r\n      filter(e => e.touches.length === 2),\r\n      map(this.prevent),\r\n      map(this.towPointsTouches),\r\n      map(this.setOrigin),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            takeUntil(this.touchend$),\r\n            filter(e => e.touches.length === 2),\r\n            map(this.towPointsTouches)\r\n          ),\r\n        ({ down, origin }, move) => {\r\n          return { down, move, origin }\r\n        }\r\n      ),\r\n      map(this.twoPointsDelta)\r\n    )\r\n    /** Zoom Subject */\r\n    this.wheelZoom$ = new Subject().pipe(\r\n      startWith(1),\r\n      merge(this.wheelEvent$),\r\n      map(this.calcWheelScaling)\r\n    )\r\n    this.touchZoom$ = new Subject().pipe(\r\n      startWith(1),\r\n      merge(this.touchTwoFinger$),\r\n      map(this.calcTouchScaling)\r\n    )\r\n    this.zoomSubject$ = new Subject().pipe(\r\n      merge(this.setWH$),\r\n      merge(this.wheelZoom$),\r\n      merge(this.touchZoom$)\r\n    )\r\n    /** Drag Subject */\r\n    this.dragSubject$ = new Subject().pipe(\r\n      startWith({ left: 0, top: 0 }),\r\n      merge(this.setTL$),\r\n      merge(\r\n        this.mousedownDrag$.pipe(\r\n          merge(this.touchdownDrag$),\r\n          map(this.delta),\r\n          map(this.toPercentage)\r\n          // map(this.validateTL)\r\n        )\r\n      )\r\n    )\r\n\r\n    this.onChange$ = new Subject().pipe(\r\n      merge(this.zoomSubject$),\r\n      merge(this.dragSubject$),\r\n      merge(this.change$)\r\n    )\r\n\r\n    return {\r\n      bgWH$: this.zoomSubject$,\r\n      bgTL$: this.dragSubject$\r\n    }\r\n  },\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rotate: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ratio: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    zoomRate: {\r\n      type: Number,\r\n      default: 0.04\r\n    },\r\n    minScale: {\r\n      type: Number,\r\n      default: 0.1\r\n    },\r\n    bgColor: {\r\n      type: String,\r\n      default: 'white'\r\n    },\r\n    border: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    borderColor: {\r\n      type: String,\r\n      default: 'white'\r\n    },\r\n    grid: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    shadow: {\r\n      type: String,\r\n      default: 'rgba(0, 0, 0, 0.4)'\r\n    },\r\n    round: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    preview: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data: () => {\r\n    return {\r\n      imgRatio: NaN\r\n    }\r\n  },\r\n  computed: {\r\n    areaStyle: function () {\r\n      const style = {\r\n        color: this.shadow,\r\n        borderWidth: this.border + 'px',\r\n        borderColor: this.borderColor,\r\n        boxShadow: '0 0 0 ' + this._shadow,\r\n        borderRadius: (this.round) ? '50%' : ''\r\n      }\r\n      this.ratio >= 1 ? (style.width = '50%') : (style.height = '50%')\r\n      return style\r\n    },\r\n    scaleStyle: function () {\r\n      let width = this.bgWH$\r\n      return {\r\n        transform: `scale(${width})`\r\n      }\r\n    },\r\n    translateStyle: function () {\r\n      let left = this.bgTL$.left\r\n      let top = this.bgTL$.top\r\n      return {\r\n        transform: `translate(${left}%,${top}%)`\r\n      }\r\n    },\r\n    bgStyle: function () {\r\n      this.change$.next(0)\r\n      return {\r\n        transform: `rotate(${this.rotate}deg)`\r\n      }\r\n    },\r\n    wrapStyle: function () {\r\n      return {\r\n        backgroundColor: this.watchPreData.bgColor\r\n      }\r\n    },\r\n    stemArea: function () {\r\n      return {\r\n        width: 10,\r\n        height: 10 / this.ratio\r\n      }\r\n    },\r\n    stemStyle: function () {\r\n      const style = {}\r\n      this.ratio >= 1 ? (style.width = '100%') : (style.height = '100%')\r\n      return style\r\n    },\r\n    _shadow: function () {\r\n      return (this.imgRatio >= 1 ? 100 : 100 / this.imgRatio) + 'vw'\r\n    },\r\n    watchPreData: function () { // use computed watch bgColor\r\n      this.callPreview('setData', { bgColor: this.bgColor })\r\n      return {\r\n        bgColor: this.bgColor\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    ratio () {\r\n      this.change$.next(0)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.imgEl = this.$el.querySelector('.img')\r\n    this.wrapEl = this.$el.querySelector('.wrap')\r\n    this.areaEl = this.$el.querySelector('.area')\r\n    this.scaleEl = this.$el.querySelector('.img-scale')\r\n    this.translateEl = this.$el.querySelector('.img-translate')\r\n    this.stemEl = this.$el.querySelector('.stem-bg')\r\n    this.canvasEl = this.$el.querySelector('.hidden-canvas')\r\n    this.$subscribeTo(\r\n      this.onChange$,\r\n      () => {\r\n        this.$nextTick(() => {\r\n          const result = this.getDrawPos().pos\r\n          const rotate = this.rotate\r\n          if (this.invalidDrawPos(result)) return\r\n          this.callPreview('locateImage', result, rotate)\r\n        })\r\n      }\r\n    )\r\n  },\r\n  methods: {\r\n    imgLoaded: function () {\r\n      this.resetData()\r\n      this.imgRatio = this.imgEl.naturalWidth / this.imgEl.naturalHeight\r\n      this.stemEl.width = this.imgEl.naturalWidth\r\n      this.stemEl.height = this.imgEl.naturalHeight\r\n      this.callPreview('setData', {\r\n        src: this.src,\r\n        bgColor: this.bgColor\r\n      })\r\n    },\r\n    resetData: function () {\r\n      this.setTL$.next({ left: 0, top: 0 })\r\n      this.setWH$.next(1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n$grid-width: 1px;\r\n\r\n.hidden-canvas {\r\n  display: none;\r\n}\r\n.wrap {\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: grab;\r\n}\r\n.stem-outer {\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  display: block;\r\n}\r\n.stem-bg {\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n.img-center {\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.img-scale {\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 0%;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.img-translate {\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 0%;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  display: block;\r\n}\r\n.cover {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.area {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  border-style: solid;\r\n}\r\n.stem-area {\r\n  display: block;\r\n  position: relative;\r\n}\r\n.grid {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n}\r\n.grid-item {\r\n  position: absolute;\r\n  border-color: rgba(255, 255, 255, 0.7);\r\n  border-style: dashed;\r\n  width: 50%;\r\n  height: 50%;\r\n  box-sizing: border-box;\r\n}\r\n.grid-item:nth-child(1) {\r\n  top: 0;\r\n  left: 0;\r\n  border-width: 0 $grid-width $grid-width 0;\r\n  transform: translate($grid-width/2, $grid-width/2);\r\n}\r\n.grid-item:nth-child(2) {\r\n  top: 0;\r\n  right: 0;\r\n  border-width: 0 0 $grid-width 0;\r\n  transform: translate(-$grid-width/2, $grid-width/2);\r\n}\r\n.grid-item:nth-child(3) {\r\n  bottom: 0;\r\n  left: 0;\r\n  border-width: 0 $grid-width 0 0;\r\n  transform: translate($grid-width/2, -$grid-width/2);\r\n}\r\n.grid-item:nth-child(4) {\r\n  bottom: 0;\r\n  right: 0;\r\n  border-width: 0;\r\n  transform: translate(-$grid-width/2, -$grid-width/2);\r\n}\r\n</style>\r\n"]}]}